<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <p>L’usuari ha d’introduir un DNI i el programa ha de dir si la lletra és correcte o no amb el nombre de DNI. Si la lletra no és correcta, ha de dir quina lletra és la correcta.

        Per calcular la lletra DNI has de prendre el número de DNI a verificar i dividir-lo entre 23. La resta es reemplaça per una lletra que ja està assignada a aquest nombre mitjançant la taula adjunta:.
        
        Taula lletra DNI
        
        
    </p>

    <input type="text" id="CAIXA1" placeholder="Escriu un DNI"/>
    <button onclick = "introduir()"> Veure el resultat! </button>

    <p id="resultat"></p>

    <script>

        function lletraDNI(x) {
            let lletraDni = x.slice(x.length-1);
            let Dni = parseInt(x);

            let num = [0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22];
            let lletres = ["T","R","W","A","G","M","Y","F","P","D","X","B","N","J","Z","S","Q","V","H","L","C","K","E"];

            let resto = parseInt(Dni % 23);
            let indexLletra = parseInt(num[resto]);
            let lletraCorrecta = lletres[indexLletra];

            let resultatlletraDNI = '';

            if (lletraDni == lletraCorrecta) {
                resultatlletraDNI ='La lletre del DNI és correcta'
            } else {
                resultatlletraDNI = 'La teva lletra és incorrecta. La lletra correcta és: ' + lletraCorrecta
            }

            return resultatlletraDNI
        }

        function introduir() {
            let DNIUsuari = document.getElementById("CAIXA1").value;

            let lletraDni = DNIUsuari.slice(DNIUsuari.length-1);

            let impressio = lletraDNI(DNIUsuari);

            document.getElementById('resultat').innerHTML = impressio
        }

    </script>
    
</body>
</html>